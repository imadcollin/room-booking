<link rel="import" href="../../assets/libs/polymer/polymer.html">

<dom-module id="ape-booking">

    <template>

        <style>
             :host {
                display: flex;
                flex-direction: column;
                padding: 1.6rem;
            }
        </style>

        <h2>Booking View</h2>
        <h4>New Booking</h4>

        <p>Select a room "Should show avalialbe rooms wiht capacity" </p>
        <select>
        <template is="dom-repeat" items="{{rooms}}" as="room">
        <option value="[[room.number]]">[[room.capacity]]</option>
        </template>
        </select>
        <p>Date: </p>
        <input type="date" name="bday" min="2017-01-01">

        <p>From <input type="time" name="year_week"> To <input type="time" name="year_week"> </p>
        <p>Project or Client <input type="text" name="firstname"> </p>
        <p>Description <textarea rows="4" cols="50"> </p>

        <p> Please select employees will be in the meeting </p>
        <!--Get all roms from appe -->
     <select>
        <template is="dom-repeat" items="{{employeesData}}" as="user">
                 <option value="[[user.name]]">[[user.name]]</option>
        </template>
    </select>
    Actions
        <button type="button">Book</button>
        <button type=" button">Cancel</button>
    </template>

    <script>
        Polymer({

            is: `ape-booking`,

            behaviors: [

            ],

            properties: {
                rooms: {
                    type: Array,
                    observer: `roomsStatus`
                },
                avaliableRooms: {
                    type: Array,
                    observer: `_avaliableRoomsStatus`
                },
                bookedRooms: {
                    type: Array,
                    observer: `_bookedRoomsStatus`

                },
                employeesData: {
                    type: Array

                },
                avaliable: {
                    type: Boolean
                }

            },

            /* Life cycle */

            ready() {

            },

            attached() {

            },

            detached() {

            },
            //Check the rooms status (booked or not) and create/push to appropriate array!
            roomsStatus: function (rooms) {
                let avaliableRooms = [];
                let bookedRooms = [];

                rooms.map(function (room) {
                    if (room.available === true) {
                        avaliableRooms.push(room);
                    } else {
                        bookedRooms.push(room);
                    }
                });

            },

            roomSelected: function () {
                console.log(`hello there `);
            },


        });
    </script>

</dom-module>